
<!DOCTYPE html>
<html>
<head>
	<title>AJAX polling</title>
	 <script src="./Chart.js"></script>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>

	<script>
	var speed;
	var distance;
		(function(){
			var poll = function(){
				$.ajax(
				{
					url:'number.json',
					dataType:'json',
					async: false,
					type: 'get',
					success: function(data){
						
						speed = (data.speed);
						$('.speed').text(speed);
						$('.distance').text(distance = data.distance);
						$('.latitude').text(data.latitude);
						$('.longitude').text(data.longitude);
						$('.altitude').text(data.altitude);
						$('.incline').text(data.incline);
 
					},
					error: function(){}
				});
			};
			setInterval(function(){
				poll();
			}, 2000);
		})();
	</script> 

	<p>SPEED: <span class="speed"></span> </p>
	<p>DISTANCE: <span class="distance"></span> </p>
	<p>LATITUDE: <span class="latitude"></span> </p>
	<p>LONGITUDE: <span class="longitude"></span> </p>
	<p>INCLINE: <span class="incline"></span> </p>
	<p>ALTITUDE: <span class="altitude"></span> </p>


	    <canvas id="SpeedTimeChart" width="400" height="200"></canvas>
<script>
var ctx = document.getElementById("SpeedTimeChart");
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        datasets: [{
            borderColor: "rgb(8, 96, ðŸ˜Ž",
            pointBackgroundColor: "rgb(8, 96, ðŸ˜Ž",
            fill: true,
            backgroundColor: "rgba(8, 96, 8, 0.2)",
            data: [{
                x: 0,
                y: 5
            }, {
                x: 2,
                y: 2
            }, {
                x: 4,
                y: 3
            }, {
                x: 6 ,
                y: 2
            },]
        }]
    },
    options: {
        title: {
            display: true,
            text: "Name, Date, Start time",
            fontColor: "rgb(0, 0, 0)"
        },
        legend:{
            display: false
        },
        scales: {
            xAxes: [{
                type: "linear",
                position: "bottom",
                scaleLabel: {
                    display: true,
                    labelString: "Time in minutes",
                    fontColor: "rgb(0, 0, 0)"
                },
                ticks: {
                    min: 0,
                    max: 20,
                    fontColor: "rgb(0, 0, 0)"
                },
            
                gridLines: {
                    zeroLineColor: "rgb(0, 0, 0)"
                }
            }],
            yAxes: [{
                type: "linear",
                position: "left",
                scaleLabel: {
                    display: true,
                    labelString: "Speed in km/h",
                    fontColor: "rgb(0, 0, 0)"
                },
                ticks: {
                    min: 0,
                    max: 20,
                    fontColor: "rgb(0, 0, 0)"
                },
            
                gridLines: {
                    zeroLineColor: "rgb(0, 0, 0)"
                }
            }]
            
        },
        animation: {
                duration: 0,
                }
    }
});
    setTimeout(function(){
      myChart.addData([8, 4]);
    },1000);
</script>
</body>
</html>